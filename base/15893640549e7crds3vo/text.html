<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Последовательные часы реального времени (RTC) DS1307 представляют собой маломощные часы с полными двоичными кодами (BCD) и календарь плюс 56 байтов NV SRAM. Адрес и данные передаются последовательно через двунаправленную шину I2C.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Часы / календарь предоставляют информацию о секундах, минутах, часах, дне, дате, месяце и году. Дата конца месяца автоматически корректируется для месяцев с количеством дней менее 31, включая поправки для високосного года. Часы работают в 24-часовом или 12-часовом формате с индикатором AM / PM. DS1307 имеет встроенную схему питания, которая обнаруживает сбои питания и автоматически переключается на резервный источник питания.</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Операция хронометража продолжается, пока деталь работает от резервного источника</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ПРЕИМУЩЕСТВА И ОСОБЕННОСТИ</p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Полностью управляет всеми функциями хронометража</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Часы реального времени отсчитывают секунды, минуты, Часы, Дата Месяца, Месяц, День</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неделя и год с високосным годом</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Компенсация действительна до 2100</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">56-байтовая оперативная память с резервным питанием от батареи с неограниченным количеством операций записи</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Программируемый прямоугольный выходной сигнал</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Простые интерфейсы последовательного порта для большинства микроконтроллеров</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">I2C последовательный интерфейс</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Низкое энергопотребление увеличивает время автономной работы</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Потребляет менее 500 нА в режиме резервного копирования батареи при работающем генераторе</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Автоматическое обнаружение сбоя питания и схема переключения</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">8-контактный DIP и 8-контактный SO минимизируют необходимое пространство</li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Опциональный промышленный температурный диапазон: от -40 ° C до + 85 ° C. Поддерживает работу в широком диапазоне применений.</li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#444444; background-color:#ffffff;">Обзор часов реального времени DS1307 (RTC)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://robotchip.ru/obzor-chasov-realnogo-vremeni-ds1307/"><span style=" text-decoration: underline; color:#0000ff;">https://robotchip.ru/obzor-chasov-realnogo-vremeni-ds1307/</span></a></p>
<p style=" margin-top:0px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#aaaaaa; background-color:#ffffff; text-transform:uppercase;">АВТОР:</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#aaaaaa; text-transform:uppercase;"> </span><a href="https://robotchip.ru/author/vip-sergey-mir/"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#3b8dbd; text-transform:uppercase;">СЕРГЕЙ</span></a><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#aaaaaa; text-transform:uppercase;"> · ОПУБЛИКОВАНО 24.11.2016 · ОБНОВЛЕНО 13.04.2020</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">DS1307 это небольшой модуль, предназначенный для подсчета времени. Собранный на базе микросхемы DS1307ZN с реализацией питания от литиевой батарейки (LIR2032), что позволяет работать автономно в течение длительного времени. Также на модуле, установлена энергонезависимая память EEPROM объемом 32 Кбайт (AT24C32). Микросхема AT24C32 и DS1307ZN связаны обшей шиной интерфейсом I2C.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image15925820313rc2iaajgk.png" width="660" height="300" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:18pt; font-weight:600; color:#000000;">Технические параметры </span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Напряжение питания: 5В<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Рабочая температура: – 40℃ … + 85℃<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Память: 56 байт (энергонезависимая)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Батарейка</span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">: </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">LIR2032 (автоматическое определение источника питания)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Интерфейса: I2C<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Габариты: 28мм х 25мм х 8 мм</span></p>
<p align="center" style=" margin-top:0px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:18pt; font-weight:600; color:#000000;">Общие сведения</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Использовании модуля DS1307 зачастую очень оправдано, например, когда данные считываются редко, интервалом более недели, использовать собственные ресурсы контроллера, неоправданно или невозможно. Обеспечивание бесперебойное питание, например платы Arduino, на длительный срок дорого, даже при использовании батареи.<br />Благодаря собственной памяти и автономностью, можно регистрировать события, (при автономном питании) например изменение температуры и так далее, данные сохраняются в памяти их можно считать из памяти модуля. Так что модуль DS1307 часто используют, когда контроллерам Arduino необходимо знать точное время, для запуска какого то события и так далее.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1592582031rzd17cixhk.png" width="600" height="600" /></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Обмен данными с другими устройствами осуществляется по интерфейсу I2C с выводов SCL и SDA. Конденсаторы С1 и С2 необходимы для снижения помех по линию питания. Чтобы обеспечить надлежащего уровня сигналов SCL и SDA установлены резисторы R2 и R3 (подтянуты к питанию). Для проверки работоспособности модуля, на вывод 7 микросхему DS1307Z, подается сигнал SQ, прямоугольной формы с частотой 1 Гц. Элементы R4, R5, R6, VD1 необходимы для подзарядку литиевой батарейки. Так же, на плате предусмотрено посадочное место (U1), для установки датчика температуры DS18B20 (при необходимости можно впаять его), считывать показания, можно с вывода DS, который подтянут к пиатнию, через резистор R1 сопротивлением 3.3 кОм. Принципиальную схему и назначение контактов можно посмотреть на рисунках ниже.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image159258203147txf6v6iu.png" /></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">На плате расположено две группы контактов, шагом 2.54 мм, для удобного подключения к макетной плате, буду использовать штырьевые разъемы, их необходимо впаять.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1592582031sl1530fdzb.png" width="600" height="300" /></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Первая группа контактов:</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;"><br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">DS:     вывод DS18B20  (1-wire)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">SCL:   линия тактирования (Serial CLock)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">SDA:  линия данных (Serial Dфta)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">VCC:  «+» питание модуля<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">GND: «-» питание модуля</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Вторая группа контактов:</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;"><br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">SQ:    вход 1 МГц<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">DS:    вывод DS18B20  (1-wire)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">SCL:  линия тактирования (Serial CLock)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">SDA: линия данных (Serial Dфta)<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">VCC: «+» питание модуля<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">GND:«-» питание модуля<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">BAT: </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#0093ca;"> </span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Подзарядка батареи</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;"><br />Как описывал ваше модуль может заряжать батарею, реализовано это, с помощью компонентов R4, R5, R6 и диода D1. Но, данная схема имеет недостаток, через резистор R4 и R6 происходит разряд батареи (как подметил пользователь ALEXEY, совсем не большой). Так как модуль потребляем незначительный ток, можно удалить цепь питания, для этого убираем R4, R5, R6 и VD1, вместо R6 поставим перемычку (после удаления компонентов, можно использовать обычную батарейку CR2032).</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1592582031yrrb8e36c0.png" width="900" height="300" /></p>
<p align="center" style=" margin-top:0px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:18pt; font-weight:600; color:#000000;">Подключение DS1307 к Arduino</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Необходимые детали:</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;"><br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Arduino UNO R3 x 1 шт.<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Провод DuPont, 2,54 мм, 20 см x 1 шт.<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Кабель USB 2.0 A-B x 1 шт.<br /></span><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">► </span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Часы реального времени RTC DS1307 x 1 шт.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Подключение:<br /></span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;">Для подключения часы реального времени DS1307, необходимо впаять впаять штыревые разъемы в первую группу контактов. Далее, подключаем провода SCL (DS1307) к выводу 4 (Arduino UNO) и SDA (DS1307) к выводу 5 (Arduino UNO), осталось подключить питания VCC к +5V и GND к GND. Кстати, в различных платах Arduino вывода интерфейса I2C отличаются, назначение каждого можно посмотреть ниже.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1592582031qw8za3l5a4.png" /></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:9pt; font-weight:600; color:#666666;">Установка времени DS1307</span><span style=" font-family:'Source Sans Pro,Arial,sans-serif'; font-size:9pt; color:#666666;"><br />Первым делом, необходимо скачать и установить библиотеку «DS1307RTC» и «TimeLib» в среду разработки IDE Arduino, далее необходимо настроить время, открываем пример из библиотеки DS1307RTC «Файл» —&gt; «Примеры» —&gt; «DS1307RTC» —&gt; «SetTime» или копируем код снизу.</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://robotchip.ru/obzor-chasov-realnogo-vremeni-ds1307/"><span style=" text-decoration: underline; color:#0000ff;">https://robotchip.ru/obzor-chasov-realnogo-vremeni-ds1307/</span></a></p></body></html>