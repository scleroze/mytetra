<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:120%; background-color:#ffffff;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529; background-color:#ffffff;">Qt/C++ - Урок 054. Считывание данных из файла CSV и их представление через QStandardItemModel</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="https://evileg.com/ru/tag/?q=CSV"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#41cd52; background-color:transparent;">CSV</span></a><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">, </span><a href="https://evileg.com/ru/tag/?q=QStandardItemModel"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#41cd52; background-color:transparent;">QStandardItemModel</span></a><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">, </span><a href="https://evileg.com/ru/tag/?q=Qt"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#41cd52; background-color:transparent;">Qt</span></a><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">, </span><a href="https://evileg.com/ru/tag/?q=QTableView"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#41cd52; background-color:transparent;">QTableView</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a name="aswift_2_expand"></a><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Ф</span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">ормат данных </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">CSV </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">( </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#212529;">Comma-Separated Values </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">— значения, разделённые запятыми), является простейшим форматом представления табличных данных. Данный формат поддерживается Excel и многими другими офисными пакетами. Например, я часто сталкиваюсь с данным форматом, когда делаю выгрузку статистики по сайту из панели вебмастера Google Search Console.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">В данном формате таблица представляется последовательностью данных, которые разделены запятыми, и представляют собой колонки, а строки разделяются переводом строки. В случае с русифицированным </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#212529;">Microsoft Excel </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">данные разделяются точкой с запятой и будут выглядеть следующим образом:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#f8f9fa;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">BMW</span><span style=" font-size:14px; color:#666600;">;</span><span style=" font-size:14px; color:#000000;">X5</span><span style=" font-size:14px; color:#666600;">;</span><span style=" font-size:14px; color:#006666;">3000000</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#660066;">Lada</span><span style=" font-size:14px; color:#666600;">;</span><span style=" font-size:14px; color:#660066;">Kalina</span><span style=" font-size:14px; color:#666600;">;</span><span style=" font-size:14px; color:#006666;">250000</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:120%;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000;">Разбор CSV</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Таким образом вся задача сводится к построчному считыванию данных из файла и добавления этих данных модель представления данных, которая будет помещена в </span><a href="https://evileg.com/ru/post/76/"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; text-decoration: underline; color:#41cd52; background-color:transparent;">QTableView </span></a><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Возьмём за основу выше приведённый пример содержимого </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">CSV </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">файла, который был создан в </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-style:italic; color:#212529;">Microsoft Excel:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1562040502kh79i1o6uk.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">И отобразим его в </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">QTableView </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">через </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">QStandardItemModel:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image1562040502tgibnnl3vo.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:120%;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000;">mainwindow.h</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Внешний вид приложения был создан в графическом дизайнере, поэтому к </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; font-weight:600; color:#212529;">QTableView </span><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">обращение идёт через объект ui.</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#f8f9fa;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#ifndef</span><span style=" font-size:14px; color:#000000;"> MAINWINDOW_H</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#define</span><span style=" font-size:14px; color:#000000;"> MAINWINDOW_H</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QMainWindow</span><span style=" font-size:14px; color:#666600;">&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QStandardItemModel</span><span style=" font-size:14px; color:#666600;">&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000088;">namespace</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">Ui</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000088;">class</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000088;">class</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">:</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#000088;">public</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">QMainWindow</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    Q_OBJECT</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000088;">public</span><span style=" font-size:14px; color:#666600;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#000088;">explicit</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#660066;">QWidget</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">*</span><span style=" font-size:14px; color:#000000;">parent </span><span style=" font-size:14px; color:#666600;">=</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#006666;">0</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#666600;">~</span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">();</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000088;">private</span><span style=" font-size:14px; color:#666600;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#660066;">Ui</span><span style=" font-size:14px; color:#666600;">::</span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">*</span><span style=" font-size:14px; color:#000000;">ui</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#660066;">QStandardItemModel</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">*</span><span style=" font-size:14px; color:#000000;">csvModel</span><span style=" font-size:14px; color:#666600;">;</span><span style=" font-size:14px; color:#000000;">  </span><span style=" font-size:14px; color:#880000;">// Объявим указатель на модель данных, которая</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">                                   </span><span style=" font-size:14px; color:#880000;">// будет содержать данные из CSV файла</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">};</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#endif</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#880000;">// MAINWINDOW_H</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:120%;"><span style=" font-family:'inherit'; font-size:9pt; color:#000000;">mainwindow.cpp</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Файл CSV в данном примере помещён в файл ресурсов проекта, если Вам требуется указать иной файл, то соответственно потребуется переписать путь к данном файлу. Результат будет соответствовать тому, что показан был на скриншоте выше.</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#f8f9fa;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;mainwindow.h&quot;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;ui_mainwindow.h&quot;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QFile</span><span style=" font-size:14px; color:#666600;">&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QTextStream</span><span style=" font-size:14px; color:#666600;">&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#880000;">#include</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QDebug</span><span style=" font-size:14px; color:#666600;">&gt;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">::</span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#660066;">QWidget</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">*</span><span style=" font-size:14px; color:#000000;">parent</span><span style=" font-size:14px; color:#666600;">)</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">:</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#660066;">QMainWindow</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000000;">parent</span><span style=" font-size:14px; color:#666600;">),</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    ui</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000088;">new</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">Ui</span><span style=" font-size:14px; color:#666600;">::</span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">)</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    ui</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">setupUi</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000088;">this</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#880000;">// Создаём модель данных для отображения таблицы из CSV файла</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    csvModel </span><span style=" font-size:14px; color:#666600;">=</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#000088;">new</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">QStandardItemModel</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000088;">this</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    csvModel</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">setColumnCount</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#006666;">3</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    csvModel</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">setHorizontalHeaderLabels</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#660066;">QStringList</span><span style=" font-size:14px; color:#666600;">()</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;&lt;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;Марка&quot;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;&lt;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;Модель&quot;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;&lt;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;Цена&quot;</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    ui</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">tableView</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">setModel</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000000;">csvModel</span><span style=" font-size:14px; color:#666600;">);</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#880000;">// Устанавливаем модель в таблицу</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#880000;">// Открываем файл из ресурсов. Вместо данного файла</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#880000;">// необходимо указывать путь к вашему требуемому файлу</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#660066;">QFile</span><span style=" font-size:14px; color:#000000;"> file</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#008800;">&quot;:/exampleTable.csv&quot;</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#000088;">if</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">!</span><span style=" font-size:14px; color:#000000;">file</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">open</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#660066;">QFile</span><span style=" font-size:14px; color:#666600;">::</span><span style=" font-size:14px; color:#660066;">ReadOnly</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">|</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">QFile</span><span style=" font-size:14px; color:#666600;">::</span><span style=" font-size:14px; color:#660066;">Text</span><span style=" font-size:14px; color:#666600;">)</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">)</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        qDebug</span><span style=" font-size:14px; color:#666600;">()</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">&lt;&lt;</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#008800;">&quot;File not exists&quot;</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#666600;">}</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#000088;">else</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#880000;">// Создаём поток для извлечения данных из файла</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#660066;">QTextStream</span><span style=" font-size:14px; color:#000000;"> in</span><span style=" font-size:14px; color:#666600;">(&amp;</span><span style=" font-size:14px; color:#000000;">file</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#880000;">// Считываем данные до конца файла</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#000088;">while</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">(!</span><span style=" font-size:14px; color:#000000;">in</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">atEnd</span><span style=" font-size:14px; color:#666600;">())</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#880000;">// ... построчно</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#660066;">QString</span><span style=" font-size:14px; color:#000000;"> line </span><span style=" font-size:14px; color:#666600;">=</span><span style=" font-size:14px; color:#000000;"> in</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">readLine</span><span style=" font-size:14px; color:#666600;">();</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#880000;">// Добавляем в модель по строке с элементами</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#660066;">QList</span><span style=" font-size:14px; color:#666600;">&lt;</span><span style=" font-size:14px; color:#660066;">QStandardItem</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">*&gt;</span><span style=" font-size:14px; color:#000000;"> standardItemsList</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#880000;">// учитываем, что строка разделяется точкой с запятой на колонки</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#000088;">for</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#660066;">QString</span><span style=" font-size:14px; color:#000000;"> item </span><span style=" font-size:14px; color:#666600;">:</span><span style=" font-size:14px; color:#000000;"> line</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">split</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#008800;">&quot;;&quot;</span><span style=" font-size:14px; color:#666600;">))</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">                standardItemsList</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">append</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000088;">new</span><span style=" font-size:14px; color:#000000;"> </span><span style=" font-size:14px; color:#660066;">QStandardItem</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000000;">item</span><span style=" font-size:14px; color:#666600;">));</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            </span><span style=" font-size:14px; color:#666600;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">            csvModel</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">insertRow</span><span style=" font-size:14px; color:#666600;">(</span><span style=" font-size:14px; color:#000000;">csvModel</span><span style=" font-size:14px; color:#666600;">-&gt;</span><span style=" font-size:14px; color:#000000;">rowCount</span><span style=" font-size:14px; color:#666600;">(),</span><span style=" font-size:14px; color:#000000;"> standardItemsList</span><span style=" font-size:14px; color:#666600;">);</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        </span><span style=" font-size:14px; color:#666600;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">        file</span><span style=" font-size:14px; color:#666600;">.</span><span style=" font-size:14px; color:#000000;">close</span><span style=" font-size:14px; color:#666600;">();</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#666600;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">}</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;"> </span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">::~</span><span style=" font-size:14px; color:#660066;">MainWindow</span><span style=" font-size:14px; color:#666600;">()</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">{</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#000088;">delete</span><span style=" font-size:14px; color:#000000;"> ui</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529; background-color:#eeeeee;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#000000;">    </span><span style=" font-size:14px; color:#000088;">delete</span><span style=" font-size:14px; color:#000000;"> csvModel</span><span style=" font-size:14px; color:#666600;">;</span></li>
<li style=" font-family:'monospace'; font-size:9pt; color:#212529;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#666600;">}</span></li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; color:#212529;">Скачать архив с примером </span><a href="https://evileg.com/media/uploads/2016/12/26/csvexample.zip"><span style=" font-family:'Roboto,Helvetica,Arial,sans-serif'; font-size:9pt; text-decoration: underline; color:#289936; background-color:transparent;">csv и QStandardItemModel</span></a></p></body></html>